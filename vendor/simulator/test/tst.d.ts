import { FileSystem } from "@davidsouther/jiffies/lib/esm/fs.js";
import { Output } from "../output.js";
import { Action } from "../types.js";
import { OutputParams, TestInstruction } from "./instruction.js";
export declare const DEFAULT_TIME_WIDTH = 7;
export declare abstract class Test<IS extends TestInstruction = TestInstruction> {
    protected readonly instructions: (IS | TestInstruction)[];
    protected _outputList: Output[];
    protected _log: string;
    fs: FileSystem;
    protected doEcho?: Action<string>;
    protected doCompareTo?: Action<string>;
    protected dir?: string;
    protected outputFileName?: string;
    constructor(path?: string, doEcho?: Action<string>, doCompareTo?: Action<string>);
    setFileSystem(fs: FileSystem): this;
    echo(_content: string): void;
    clearEcho(): void;
    loadROM(_filename?: string): Promise<void>;
    load(_filename?: string): Promise<void>;
    compareTo(filename: string): Promise<void>;
    outputFile(filename: string): void;
    private createOutputs;
    outputList(params: OutputParams[]): void;
    addInstruction(instruction: IS | TestInstruction): void;
    reset(): this;
    private _steps;
    private _step;
    get steps(): Iterator<IS | TestInstruction>;
    get currentStep(): IS | TestInstruction | undefined;
    get done(): boolean;
    step(): Promise<boolean>;
    run(): Promise<void>;
    protected readonly breakpoints: Map<string, number>;
    addBreakpoint(variable: string, value: number): void;
    clearBreakpoints(): void;
    output(): void;
    header(): void;
    log(): string;
    abstract hasVar(variable: string | number): boolean;
    abstract getVar(variable: string | number, offset?: number): number | string;
    abstract setVar(variable: string, value: number, offset?: number): void;
    abstract getWidth(variable: string, offset?: number): number;
}
